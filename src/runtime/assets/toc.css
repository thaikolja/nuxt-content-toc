/**
 * @fileoverview Default CSS Styles for Table of Contents
 * @description Provides sensible default styles that can be easily overridden.
 * Uses CSS custom properties for easy theming.
 *
 * @module toc.css
 */

/**
 * CSS Custom Properties for theming.
 * Override these in your own CSS to customize the appearance.
 */
:root {
  --toc-font-size:           0.875rem;
  --toc-line-height:         1.5;
  --toc-text-color:          #374151;
  --toc-text-color-hover:    #111827;
  --toc-active-color:        #00ff00;
  --toc-border-color:        #e5e7eb;
  --toc-active-border-color: #3b82f6;
  --toc-indent:              1rem;
  --toc-transition-duration: 150ms;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  :root {
    --toc-text-color:          #d1d5db;
    --toc-text-color-hover:    #f9fafb;
    --toc-active-color:        #60a5fa;
    --toc-border-color:        #374151;
    --toc-active-border-color: #60a5fa;
  }
}

/**
 * Table of Contents Container
 */
.toc-container {
  font-size:   var(--toc-font-size);
  line-height: var(--toc-line-height);
}

/**
 * TOC List Styles
 */
.toc-list {
  list-style: none;
  margin:     0;
  padding:    0;
}

/**
 * Individual TOC Item
 */
.toc-item {
  margin:  0;
  padding: 0;
}

/**
 * TOC Link Styles
 */
.toc-link {
  display:         block;
  padding:         0.375rem 0 0.375rem 0.75rem;
  color:           var(--toc-text-color);
  text-decoration: none;
  border-left:     2px solid var(--toc-border-color);
  transition:      color var(--toc-transition-duration) ease,
                   border-color var(--toc-transition-duration) ease;
}

.toc-link:hover {
  color: var(--toc-text-color-hover);
}

/**
 * Active TOC Item
 * Applied when the corresponding heading is in view.
 */
.toc-link.toc-active {
  color:             var(--toc-active-color);
  border-left-color: var(--toc-active-border-color);
  font-weight:       500;
}

/**
 * Nested Sublist
 */
.toc-sublist {
  list-style: none;
  margin:     0;
  padding:    0;
}

/**
 * Sublist Item
 * Indented for visual hierarchy.
 */
.toc-sublist-item {
  margin:  0;
  padding: 0;
}

.toc-sublist-item .toc-link {
  padding-left: calc(0.75rem + var(--toc-indent));
}

/* Second level nesting */
.toc-sublist .toc-sublist .toc-sublist-item .toc-link {
  padding-left: calc(0.75rem + var(--toc-indent) * 2);
}

/**
 * Active state for parent items when child is active
 * Uses the :has() selector for modern browsers.
 */
.toc-item:has(.toc-sublist .toc-active) > .toc-link {
  color:             var(--toc-active-color);
  border-left-color: var(--toc-active-border-color);
}

/**
 * Screen reader only class for accessibility
 */
.sr-only {
  position:    absolute;
  width:       1px;
  height:      1px;
  padding:     0;
  margin:      -1px;
  overflow:    hidden;
  clip:        rect(0, 0, 0, 0);
  white-space: nowrap;
  border:      0;
}
