/**
 * @fileoverview Default CSS Styles for Table of Contents
 * @description Provides sensible default styles that can be easily overridden.
 * Uses CSS custom properties for easy theming.
 *
 * @module toc.css
 */

/**
 * CSS Custom Properties for theming.
 * Override these in your own CSS to customize the appearance.
 */
:root {
  --toc-font-family:         inherit;
  --toc-font-size:           0.875rem;
  --toc-font-weight:         400;
  --toc-line-height:         1.6;
  --toc-text-color:          inherit;
  --toc-text-color-hover:    #000000;
  --toc-active-color:        #000000;
  --toc-active-font-weight:  600;
  --toc-border-color:        #eeeeee;
  --toc-active-border-color: #000000;
  --toc-border-width:        2px;
  --toc-indent:              1.25rem;
  --toc-transition-duration: 200ms;
}

/* Dark mode support - Black and White */
@media (prefers-color-scheme: dark) {
  :root {
    --toc-text-color:          #a1a1aa;
    --toc-text-color-hover:    #ffffff;
    --toc-active-color:        #ffffff;
    --toc-border-color:        #3f3f46;
    --toc-active-border-color: #ffffff;
  }
}

/**
 * Table of Contents Container
 */
.toc-container {
  font-family:    var(--toc-font-family);
  font-size:      var(--toc-font-size);
  line-height:    var(--toc-line-height);
  font-weight:    var(--toc-font-weight);
  display:        flex;
  flex-direction: column;
}

/* Alignment logic */
.toc-align-left {
  align-items: flex-start;
  text-align:  left;
}

.toc-align-center {
  align-items: center;
  text-align:  center;
}

.toc-align-right {
  align-items: flex-end;
  text-align:  right;
}

/* Ensure links expand or align based on container */
.toc-align-center .toc-link,
.toc-align-right .toc-link {
  border-left:  none;
  padding-left: 0;
}

.toc-align-center .toc-link.toc-active {
  text-decoration:       underline;
  text-underline-offset: 4px;
}

.toc-align-right .toc-link {
  border-right:  var(--toc-border-width) solid var(--toc-border-color);
  padding-right: 0.75rem;
}

.toc-align-right .toc-link.toc-active {
  border-right-color: var(--toc-active-border-color);
}

/**
 * TOC List Styles
 */
.toc-list {
  list-style: none;
  margin:     0;
  padding:    0;
}

/**
 * Individual TOC Item
 */
.toc-item {
  margin:  0;
  padding: 0;
}

/**
 * TOC Link Styles
 */
.toc-link {
  display:         block;
  padding:         0.375rem 0 0.375rem 0.75rem;
  color:           var(--toc-text-color);
  text-decoration: none;
  border-left:     var(--toc-border-width) solid var(--toc-border-color);
  transition:      all var(--toc-transition-duration) ease;
}

.toc-link:hover {
  color: var(--toc-text-color-hover);
}

/**
 * Active TOC Item
 * Applied when the corresponding heading is in view.
 */
.toc-link.toc-active {
  color:             var(--toc-active-color);
  border-left-color: var(--toc-active-border-color);
  font-weight:       var(--toc-active-font-weight);
}

/**
 * Nested Sublist
 */
.toc-sublist {
  list-style: none;
  margin:     0;
  padding:    0;
}

/**
 * Sublist Item
 * Indented for visual hierarchy.
 */
.toc-sublist-item {
  margin:  0;
  padding: 0;
}

.toc-sublist-item .toc-link {
  padding-left: calc(0.75rem + var(--toc-indent));
}

/* Second level nesting */
.toc-sublist .toc-sublist .toc-sublist-item .toc-link {
  padding-left: calc(0.75rem + var(--toc-indent) * 2);
}

/**
 * Active state for parent items when child is active
 * Uses the :has() selector for modern browsers.
 */
.toc-item:has(.toc-sublist .toc-active) > .toc-link {
  color:             var(--toc-active-color);
  border-left-color: var(--toc-active-border-color);
}

/**
 * Screen reader only class for accessibility
 */
.sr-only {
  position:    absolute;
  width:       1px;
  height:      1px;
  padding:     0;
  margin:      -1px;
  overflow:    hidden;
  clip:        rect(0, 0, 0, 0);
  white-space: nowrap;
  border:      0;
}
